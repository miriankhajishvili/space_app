<div class="container">
  <div class="main-body">
    <div class="row gutters-sm">
      <div class="col-md-4 mb-3">
        <div class="card shadow-lg rounded">
          <div class="card-body text-center">
            <img
              [src]="currentClient?.img"
              alt="Admin"
              class="profile-img rounded-circle"
            />
            <h5 class="mt-3">{{ currentClient?.firstname }} {{ currentClient?.lastname }}</h5>
            <p class="text-secondary mb-1">Full Stack Developer</p>
      
            <div class="profile-info mt-4">
              <div class="info-row">
                <i class="fas fa-map-marker-alt info-icon"></i>
                <span class="info-label">Current Address:</span>
                <span class="info-value">{{ currentClient?.currentAddress?.currentAddress }}</span>
              </div>
              <div class="info-row">
                <i class="fas fa-city info-icon"></i>
                <span class="info-label">Current City:</span>
                <span class="info-value">{{ currentClient?.currentAddress?.currentCity }}</span>
              </div>
              <div class="info-row">
                <i class="fas fa-globe info-icon"></i>
                <span class="info-label">Current Country:</span>
                <span class="info-value">{{ currentClient?.currentAddress?.currentCountry }}</span>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      
      <div class="col-md-8">
        <div class="card mb-3">
          <div class="card-body">
            <div class="row mb-3">
              <div class="col-sm-3">
                <mat-icon color="primary">person</mat-icon>
                <h6 class="mb-0">Full Name</h6>
              </div>
              <div class="col-sm-9 text-secondary">
                {{ currentClient?.firstname + " " + currentClient?.lastname }}
              </div>
            </div>
            <mat-divider></mat-divider>

            <div class="row mb-3">
              <div class="col-sm-3">
                <mat-icon color="primary">male</mat-icon>
                <h6 class="mb-0">Gender</h6>
              </div>
              <div class="col-sm-9 text-secondary">
                {{ currentClient?.gender }}
              </div>
            </div>
            <mat-divider></mat-divider>

            <div class="row mb-3">
              <div class="col-sm-3">
                <mat-icon color="primary">badge</mat-icon>
                <h6 class="mb-0">Personal ID</h6>
              </div>
              <div class="col-sm-9 text-secondary">
                {{ currentClient?.personalid }}
              </div>
            </div>
            <mat-divider></mat-divider>

            <div class="row mb-3">
              <div class="col-sm-3">
                <mat-icon color="primary">phone</mat-icon>
                <h6 class="mb-0">Mobile Number</h6>
              </div>
              <div class="col-sm-9 text-secondary">
                {{ currentClient?.phonenumber }}
              </div>
            </div>
            <mat-divider></mat-divider>

            <div class="row mb-3">
              <div class="col-sm-3">
                <mat-icon color="primary">home</mat-icon>
                <h6 class="mb-0">Address</h6>
              </div>
              <div class="col-sm-9 text-secondary">
                {{ currentClient?.address?.address }}
              </div>
            </div>
            <div class="row mb-3">
              <div class="col-sm-3">
                <mat-icon color="primary">location_city</mat-icon>
                <h6 class="mb-0">Legal City</h6>
              </div>
              <div class="col-sm-9 text-secondary">
                {{ currentClient?.address?.city }}
              </div>
            </div>
            <div class="row mb-3">
              <div class="col-sm-3">
                <mat-icon color="primary">public</mat-icon>
                <h6 class="mb-0">Legal Country</h6>
              </div>
              <div class="col-sm-9 text-secondary">
                {{ currentClient?.address?.country }}
              </div>
            </div>
            <mat-divider></mat-divider>

            <div class="row">
              <div class="col-sm-9">
                <button
                  mat-raised-button
                  color="primary"
                  class="action-button"
                  (click)="onEdit(currentClient.id)"
                >
                  <mat-icon>edit</mat-icon> Edit Client
                </button>
              </div>
              <div class="col-sm-3">
                <button
                  mat-raised-button
                  color="accent"
                  class="action-button add-bonus-button"
                  (click)="showDialog()"
                >
                  <mat-icon>add_circle</mat-icon> Add Bonus
                </button>
              </div>
            </div>
          </div>
        </div>

        <div class="row gutters-sm">
          <div class="col-sm-6 mb-3" *ngFor="let card of bonusCards$ | async">
            <ng-container *ngIf="card.userID === currentClient.id">
              <mat-card class="custom-card">
                <img
                  mat-card-image
                  alt="Card"
                  [src]="getImageSource(card.cardType)"
                />

                <mat-card-header>
                  <mat-card-title>{{ card.cardType }}</mat-card-title>
                </mat-card-header>

                <mat-card-content>
                  <div class="info">
                    <p *ngIf="card.currencies">
                      Currency: {{ card.currencies }}
                    </p>
                    <p>Quantity: {{ card.quantity }}</p>
                  </div>
                </mat-card-content>

                <mat-card-actions class="card-actions">
                  <button
                    mat-raised-button
                    color="accent"
                    (click)="showDialog(card)"
                    class="action-button"
                  >
                    Edit
                  </button>
                  <button
                    mat-raised-button
                    color="warn"
                    (click)="deleteCard(card.id)"
                    class="action-button"
                  >
                    Delete
                  </button>
                </mat-card-actions>
              </mat-card>
            </ng-container>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
